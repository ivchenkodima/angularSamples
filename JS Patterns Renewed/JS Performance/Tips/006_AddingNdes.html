<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Добавление узлов</title>
</head>
<body>
    <script>
        var p, t, fragment;

        console.time("create elemet");
        for (var i = 0; i < 10000; i++) {
            p = document.createElement("p");
            t = document.createTextNode("paragraph");
            p.appendChild(t);
            document.body.appendChild(p);
        }
        console.timeEnd("create elemet");
        

        console.time("create elemet in fragment");
        // Doument Fragment - фрагмент документа, в который можно добавлять дочерние элементы. При этом дочерние элементы
        // фрагмента не будут отображаться на странице до тех пор, пока фрагмент не станет дочерним элементом существующего элемента DOM.

        fragment = document.createDocumentFragment();

        for (var i = 0; i < 10000; i++) {
            p = document.createElement("p");
            t = document.createTextNode("paragraph");
            p.appendChild(t);
            fragment.appendChild(p);
        }
        document.body.appendChild(fragment); // добавление фрагмента в тело документа.
        // все элементы которые есть в фрагменте станут дочерними элементами документа.
        console.timeEnd("create elemet in fragment");
    </script>
</body>
</html>
